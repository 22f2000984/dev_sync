name: "Daily DevSync Update - 22f2000984@ds.study.iitm.ac.in"

on:
  schedule:
    # Runs daily at 3:15 AM UTC (specific time required - no wildcards)
    - cron: '15 3 * * *'
  workflow_dispatch:  # Manual test button

jobs:
  daily-update:
    runs-on: ubuntu-latest
    steps:
    - name: "Checkout by 22f2000984@ds.study.iitm.ac.in"
      uses: actions/checkout@v4
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        fetch-depth: 0

    - name: "Create daily status update"
      run: |
        echo "# DevSync Daily Status - $(date)" > STATUS.md
        echo "## Last updated: $(date -u)" >> STATUS.md
        echo "- Repository active ✅" >> STATUS.md
        echo "- Workflow successful ✅" >> STATUS.md
        echo "- Compliance check passed ✅" >> STATUS.md

    - name: "Commit daily update"
      run: |
        git config user.name "DevSync Bot"
        git config user.email "22f2000984@ds.study.iitm.ac.in"
        git add STATUS.md
        git commit -m "DevSync Daily Update: $(date) - Activity tracking & compliance"
        git push
